http:
  routers:
    grafana:
      entryPoints:
        - websecure
      rule: "Host(`grafana.example.com`)"
      service: grafana
      tls:
        certResolver: cloudflare
      middlewares:
        - default-headers
        - ratelimit
        # Optional (recommended) for a public template:
        - grafana-auth

  services:
    grafana:
      loadBalancer:
        servers:
          - url: "http://grafana:3000"
        passHostHeader: true

  middlewares:
    # Optional (recommended): Basic Auth
    # Use a placeholder hash in public repos, document how to generate a real one
    grafana-auth:
      basicAuth:
        users:
          - "admin:$$2y$$10$$REPLACE_WITH_BCRYPT_HASH"

